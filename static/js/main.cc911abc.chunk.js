(this["webpackJsonpespon-playground"]=this["webpackJsonpespon-playground"]||[]).push([[0],{177:function(e,t,n){},188:function(e,t){},222:function(e,t){},356:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),a=n(30),i=n.n(a),c=(n(176),n(177),n(43)),s=n(44),l=n(169),d=n(167),u=n(3),b=n(15),j=n(8),p=n(7),h=n(45),x=n(168),f=n(37),O=n(2),m=function(e){var t=e.children,n=e.selectable,o=e.sx,r=n?Object(u.a)({padding:2,":hover":{cursor:"pointer",bg:"primary",color:"background"}},o):Object(u.a)({padding:2},o);return Object(O.jsx)(h.b,Object(u.a)(Object(u.a)({},e),{},{as:"li",sx:r,children:t}))},g=function(e){return null!==e&&void 0!==e&&("number"===typeof e?!isNaN(e):Array.isArray(e)?e.length>0:!!e)},y=["items","children","sx"],v=function(e){var t=e.items,n=e.children,o=e.sx,r=Object(p.a)(e,y),a=Object(u.a)({listStyleType:"none",padding:1},o);return g(n)?Object(O.jsx)(h.b,Object(u.a)(Object(u.a)({},r),{},{as:"ul",className:"cl-list",sx:a,children:n})):!!(t&&t.length>0)&&Object(O.jsx)(h.b,Object(u.a)(Object(u.a)({},r),{},{as:"ul",className:"cl-list",sx:a,children:t.map((function(e){return Object(O.jsx)(m,{children:e})}))}))},k=n(76),w=n(53),S=n(13),C=["closable","onClose","sx","children"],F=function(e){var t=e.closable,n=e.onClose,o=e.sx,r=e.children,a=Object(p.a)(e,C),i=Object(S.d)().theme;return Object(O.jsxs)(h.d,Object(u.a)(Object(u.a)({className:"cl-panel-component",color:"text",sx:Object(u.a)(Object(u.a)({padding:3,width:"300px",borderRadius:"4px",boxShadow:"0 0 4px rgba(0, 0, 0, .6)",bg:"white"},o),{},{paddingTop:t?0:3})},a),{},{children:[t&&Object(O.jsx)(h.h,{sx:{justifyContent:"flex-end",marginRight:"-".concat(i.space?i.space[3]:16,"px")},children:Object(O.jsx)(h.f,{sx:{color:"text",height:"24px",width:"24px",":hover":{cursor:"pointer"}},onClick:n})}),r]}))},L=["children","buttonOptions","sx"],N=function(e){var t,n,r,a=e.children,i=e.buttonOptions,c=e.sx,s=Object(p.a)(e,L),l=Object(o.useRef)(null),d=Object(w.a)(l),b=Object(o.useState)(!1),x=Object(j.a)(b,2),f=x[0],m=x[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.c,{ref:l,title:null===i||void 0===i?void 0:i.title,className:null!==(t=null===s||void 0===s?void 0:s.className)&&void 0!==t?t:"cl-btn","data-testid":null!==(n=null===i||void 0===i?void 0:i.testId)&&void 0!==n?n:"cl-btn",variant:null!==(r=null===i||void 0===i?void 0:i.variant)&&void 0!==r?r:"primary",onClick:function(){if(null===i||void 0===i?void 0:i.intercept)try{i.intercept()}catch(e){console.error(e)}else m(!f)},sx:Object(u.a)({},c),children:null===i||void 0===i?void 0:i.icon}),f&&Object(O.jsx)(k.b,{style:{zIndex:c.zIndex||2},targetRef:l,position:function(){return{left:(null===d||void 0===d?void 0:d.right)+10,top:(null===d||void 0===d?void 0:d.top)+window.scrollY}},children:Object(O.jsx)(F,{closable:!0,onClose:function(){return m(!1)},sx:{fontFamily:"body"},children:a})})]})},_=["baseType","buttonOptions","children","open","sx"],T=function(e){var t,n,o,r,a,i=e.baseType,c=e.buttonOptions,s=e.children,l=(e.open,e.sx),d=Object(p.a)(e,_),b=null!==(t=null===l||void 0===l?void 0:l.top)&&void 0!==t?t:"1rem",j=null!==(n=null===l||void 0===l?void 0:l.left)&&void 0!==n?n:"1rem";(null===l||void 0===l?void 0:l.bottom)&&(b=null),(null===l||void 0===l?void 0:l.right)&&(j=null);var x=Object(u.a)({fontFamily:"body",bg:"transparent",position:(null===l||void 0===l?void 0:l.position)||"absolute",top:b,left:j,bottom:null===l||void 0===l?void 0:l.bottom,right:null===l||void 0===l?void 0:l.right,zIndex:null!==(o=null===l||void 0===l?void 0:l.zIndex)&&void 0!==o?o:2},l),f=Object(u.a)({fontFamily:"body",bg:"background",position:(null===l||void 0===l?void 0:l.position)||"absolute",top:b,left:j,bottom:null===l||void 0===l?void 0:l.bottom,right:null===l||void 0===l?void 0:l.right,zIndex:null!==(r=null===l||void 0===l?void 0:l.zIndex)&&void 0!==r?r:2},l),m=Object(u.a)({fontFamily:"body",bg:(null===l||void 0===l?void 0:l.bg)||"primary",position:(null===l||void 0===l?void 0:l.position)||"absolute",top:b,left:j,bottom:null===l||void 0===l?void 0:l.bottom,right:null===l||void 0===l?void 0:l.right,zIndex:null!==(a=null===l||void 0===l?void 0:l.zIndex)&&void 0!==a?a:2,width:"32px",height:"32px",minWidth:"25px",minHeight:"25px",p:0,m:1,boxShadow:"1 1 4px rgba(0, 0, 0, 1)"},l),g=Object(O.jsx)(h.b,Object(u.a)(Object(u.a)({},d),{},{sx:x,children:s}));switch(i){case"none":return g;case"panel":return Object(O.jsx)(F,Object(u.a)(Object(u.a)({},d),{},{sx:f,children:s}));case"button":return Object(O.jsx)(N,Object(u.a)({children:s,buttonOptions:c,sx:m},d));default:return g}},E=n(170),z=Object(o.createContext)({addControl:function(){return Object(E.a)()}});var I=function(e){return!!(e&&Object.keys(e).length>0)&&!!(e.style&&Object.keys(e.style).length>0)},B=n(158),P=n.n(B),R=n(104),D=n.n(R),M=n(159),A=n.n(M),Z=1e8,W=["baseType","buttonOptions","sx"],J=new(function(){function e(){Object(c.a)(this,e),this.reader=new FileReader,this.reader.onload=this.handleFile.bind(this)}return Object(s.a)(e,[{key:"load",value:function(e,t){if(!e)throw new Error("File Required");if(!t)throw new Error("Callback Required");this.cb=t,this.file=e,this.fileExt=this.getExtension(),this.fileDetails={fileSize:this.file.size,fileName:this.file.name,fileExt:this.fileExt},this.file.size>=Z?t({error:"File must be less than 20mb",fileDetails:this.fileDetails}):"zip"===this.fileExt.toLowerCase()?this.reader.readAsArrayBuffer(this.file):this.reader.readAsText(this.file,"UTF-8")}},{key:"getExtension",value:function(){var e=this.file.name.split(".");return e[e.length-1]}},{key:"handleFile",value:function(e){switch(this.fileExt.toLowerCase()){case"csv":this.handleCSV(e);break;case"kml":this.handleKML(e);break;case"geojson":case"json":this.handleJSON(e);break;case"gpx":this.handleGPX(e);break;case"zip":this.handleSHP(e);break;default:this.notRecognized()}}},{key:"handleJSON",value:function(e){try{this.handleGeoJSON(e)}catch(t){this.cb({error:"Problem parsing JSON (".concat(t.toString(),")"),fileDetails:this.fileDetails})}}},{key:"handleCSV",value:function(e){var t,n,o=this,r=["y","lat","latitude"],a=["x","lng","lon","long","longitude"],i=e.target.result;if(i.split("\n")[0].split(",").forEach((function(e){-1!==r.indexOf(e.toLowerCase().trim())&&(t=e.trim()),-1!==a.indexOf(e.toLowerCase().trim())&&(n=e.trim())})),!n||!t)throw new Error("no latitude (y, lat, latitude) or longitude (x, lng, long, longitude) field found");P.a.csv2geojson(i,{latfield:t,lonfield:n},(function(e,t){if(e)throw e;o.cb(o.fileDetails,t)}))}},{key:"handleKML",value:function(e){var t=(new window.DOMParser).parseFromString(e.target.result,"application/xml"),n=D.a.kml(t,{style:!0});this.cb(this.fileDetails,n)}},{key:"handleGeoJSON",value:function(e){this.cb(this.fileDetails,JSON.parse(e.target.result))}},{key:"handleGPX",value:function(e){var t=(new window.DOMParser).parseFromString(e.target.result,"application/xml"),n=D.a.gpx(t);this.cb(this.fileDetails,n)}},{key:"handleSHP",value:function(e){var t=A.a.parseZip(e.target.result);this.cb(this.fileDetails,t)}},{key:"notRecognized",value:function(){console.log("sorry, i didnt recognize this format"),this.cb({error:"File format ".concat(this.fileExt," not recognized."),fileDetails:this.fileDetails})}}]),e}()),H=function(e){var t=e.baseType,n=e.buttonOptions,r=(e.sx,Object(p.a)(e,W)),a=Object(o.useContext)(z).map,i=Object(o.useState)("file"),c=Object(j.a)(i,2),s=c[0],l=c[1],d=Object(o.useState)([]),g=Object(j.a)(d,2),y=g[0],k=g[1],w=function(e,t){if(t&&e){var n=e.fileName;a.addSource(n,{type:"geojson",data:t}),function(e,t){function n(e){var t;switch(e){case"Point":case"MultiPoint":t="circle";break;case"LineString":case"MultiLineString":t="line";break;case"Polygon":case"MultiPolygon":t="fill";break;default:return""}return t}function o(e){var t;switch(e){case"Point":case"MultiPoint":t={"circle-radius":6,"circle-color":"#B42222","circle-opacity":.6};break;case"LineString":case"MultiLineString":t={"line-color":"#888","line-width":8};break;case"Polygon":case"MultiPolygon":t={"fill-color":"#088","fill-opacity":.8};break;default:return null}return t}function r(e){var t;switch(e){case"Point":case"MultiPoint":t=["==","$type","Point"];break;case"LineString":case"MultiLineString":t=["==","$type","LineString"];break;case"Polygon":case"MultiPolygon":t=["==","$type","Polygon"];break;default:return null}return t}var i=[];t.features.map((function(e){-1===i.indexOf(e.geometry.type)&&i.push(e.geometry.type)})),i.forEach((function(t){var i="".concat(e,"-").concat(t);a.addLayer({id:i,type:n(t),source:e,paint:o(t),filter:r(t),layout:{visibility:"visible"}}),k([].concat(Object(b.a)(y),[i]))}))}(n,t),function(e){var t=Object(x.a)(e);a.fitBounds(t)}(t)}},S=function(){return Object(O.jsx)(h.s,{children:"Upload your dataset [currently supporting only .zip (shp)]"})},C=function(){return Object(O.jsxs)(h.h,{sx:{justifyContent:"center",paddingBottom:"0.5rem"},children:[Object(O.jsx)(h.c,{sx:{width:"50%",bg:"transparent",color:"blue",cursor:"pointer",borderStyle:"solid",borderRadius:0,borderWidth:1,boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function(){l("file")},children:"File"}),Object(O.jsx)(h.c,{sx:{width:"50%",bg:"transparent",cursor:"pointer",color:"blue",borderStyle:"solid",borderRadius:0,borderWidth:1,boxShadow:"none",":hover":{bg:"primary",color:"background"}},onClick:function(){l("url")},children:"URL"})]})},F=function(){return Object(O.jsx)(h.b,{sx:{textAlign:"center"},children:Object(O.jsx)(h.h,{sx:{justifyContent:"flex-end"}})})},L=function(){var e=[".geojson",".kml",".gpx",".csv",".zip (shp)"];return Object(O.jsxs)("div",{children:[Object(O.jsx)(h.b,{sx:{textAlign:"left"},children:function(){var t=e.join(", ");return Object(O.jsxs)(h.b,{children:[Object(O.jsx)(h.s,{sx:{fontSize:0},children:"Supported File Extensions:"}),Object(O.jsx)(h.s,{sx:{fontSize:0},children:t}),Object(O.jsx)(h.m,{sx:{textAlign:"center",paddingTop:1,border:"none",">button":{boxShadow:"none"}},type:"file",className:"file-upload",onChange:function(e){!function(e){try{J.load(e.target.files[0],w)}catch(t){console.warn(t)}}(e)}})]})}()}),Object(O.jsx)(F,{})]})},N=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(h.m,{placeholder:"Paste URL Here"}),Object(O.jsx)(F,{})]})},_=function(){return Object(O.jsxs)("div",{styles:{width:"100%"},children:[Object(O.jsx)(C,{}),"file"===s?Object(O.jsx)(L,{}):Object(O.jsx)(N,{})]})},E=function(){return Object(O.jsxs)("div",{style:{width:"100%"},children:[Object(O.jsx)(h.c,{sx:{fontSize:0,textDecoration:"underline",color:"primary",cursor:"pointer",backgroundColor:"blue",":hover":{backgroundColor:"blue"}},onClick:function(e){e.preventDefault(),l("file")},children:"<< Back"}),Object(O.jsx)(h.b,{sx:{marginTop:""},content:Object(O.jsx)(v,{children:function(){var e=function(e){return"none"!==a.getLayoutProperty(e,"visibility")};return y.map((function(t,n){return Object(O.jsxs)(m,{children:[" ",Object(O.jsxs)(h.n,{children:[Object(O.jsx)(h.e,{onChange:function(){!function(t){e(t)?a.setLayoutProperty(t,"visibility","none"):a.setLayoutProperty(t,"visibility","visible")}(t)},defaultChecked:e(t)}),Object(O.jsx)(h.s,{pt:1,children:t})]})]},"".concat(t,"-").concat(n))}))}()})})]})},B=function(){return Object(O.jsx)("div",{style:{width:"100%"},children:"layers"===s?Object(O.jsx)(E,{}):Object(O.jsx)(_,{})})};return I(a)?Object(O.jsxs)(T,Object(u.a)(Object(u.a)({className:"add-tools",baseType:t,buttonOptions:Object(u.a)({icon:Object(O.jsx)(f.b,{}),title:"Add Data",testId:"add-data-btn"},n),sx:{minWidth:"400px",paddingTop:"10px",borderRadius:"5px",marginTop:"135px",backgroundColor:"white"}},r),{},{children:[Object(O.jsx)(S,{}),Object(O.jsx)(B,{})]})):null},G=n(105),X=n.n(G),K=function(e){var t=e.message,n=Object(o.useState)(!0),r=Object(j.a)(n,2),a=r[0],i=r[1];return a?Object(O.jsx)(h.a,{variant:"modal",children:Object(O.jsxs)(h.h,{sx:{flexDirection:"column"},children:[Object(O.jsx)(h.h,{sx:{width:"100%",position:"relative"},children:Object(O.jsx)("p",{style:{padding:1},children:t})}),Object(O.jsx)(h.h,{sx:{justifyContent:"flex-end"},children:Object(O.jsx)(h.c,{variant:"secondary",onClick:function(){i(!1)},children:"OK"})})]})}):null},V=["mapOptions","mapLayers","supportMessage","sx"],U=function(e){var t,n=e.mapOptions,r=e.mapLayers,a=e.supportMessage,i=e.sx,c=Object(p.a)(e,V),s=Object(o.useContext)(z).setMap;return Object(o.useEffect)((function(){var e;t=new X.a.Map(n),s(t),(e=r)&&t.on("load",(function(){e.forEach((function(e){t.addLayer(e)}))}))}),[]),X.a.supported()?Object(O.jsx)(h.b,Object(u.a)(Object(u.a)({},c),{},{sx:Object(u.a)({width:"100vw",height:"100vh"},i),ref:function(e){n.container=e},className:"cl-map-container"})):Object(O.jsx)(K,{message:a||"WARNING! Your browser does not currently support this application, which requires MapboxGL. \n    Please ensure you are using the latest version of Chrome, Firefox, or Edge.\n    Additionally, check https://get.webgl.org/ for compatibility with your system."})},q=n(12),Y=function(e){var t=e.name,n=e.item,o=e.defaultChecked,r=e.checkedChanged;return Object(O.jsxs)(h.n,Object(u.a)(Object(u.a)({className:"cl-radio-group-item"},e),{},{sx:{fontSize:"12px",marginRight:"2px",">span":{paddingTop:"3px"}},children:[Object(O.jsx)(h.p,{color:"primary",name:t,id:n.name,value:n.value,defaultChecked:o,sx:{"input:checked ~ &":{color:"primary"},"input:focus ~ &":{bg:"highlight"}},onChange:function(e){return r(e,n)}}),Object(O.jsx)("span",{children:n.label})]}))},$=function(e){var t=e.children,n=e.items,o=e.name,r=e.checkedValueChange,a={bg:"transparent",color:"primary",display:"flex",padding:0};return g(t)?Object(O.jsx)(h.b,Object(u.a)(Object(u.a)({},e),{},{className:"cl-radio-group",sx:a,children:t})):Object(O.jsx)(h.b,Object(u.a)(Object(u.a)({},e),{},{className:"cl-radio-group",sx:a,children:n.map((function(e){return Object(O.jsx)(Y,{name:o,item:e,defaultChecked:e.checked,checkedChanged:r,sx:{cursor:"pointer"}},e.value)}))}))},Q=["buttons","sx","children"],ee=function(e){var t,n=e.buttons,o=e.sx,r=e.children,a=Object(p.a)(e,Q);return t=n||r,Object(O.jsx)(h.h,Object(u.a)(Object(u.a)({alignItems:"center"},a),{},{className:"cl-button-group",sx:Object(u.a)(Object(u.a)({},o),{},{"> button":{height:"32px",cursor:"pointer",backgroundColor:"blue",color:"white",borderWidth:"0.25px",borderColor:"muted",borderStyle:"solid",":first-of-type":{borderTopLeftRadius:"default",borderBottomLeftRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"},":last-child":{borderTopRightRadius:"default",borderBottomRightRadius:"default",borderWidth:"0.5px",borderColor:"muted",borderStyle:"solid"}}}),children:t}))},te=["switcherStyle","basemaps","preserveLayers","baseType","buttonOptions","sx"],ne=function(e){var t=e.switcherStyle,n=e.basemaps,r=e.preserveLayers,a=e.baseType,i=e.buttonOptions,c=(e.sx,Object(p.a)(e,te)),s=Object(o.useState)(n?n[0].value:"light-v10"),l=Object(j.a)(s,2),d=l[0],b=l[1],x=Object(o.useContext)(z).map,f=Object(o.useRef)(!1),m=function(e,t){b(t.value)};Object(o.useEffect)((function(){f.current?x.setStyle("mapbox://styles/mapbox/".concat(d)):f.current=!0}),[d]),Object(o.useEffect)((function(){I(x)&&x.on("load",(function(){x.setStyle("mapbox://styles/mapbox/".concat(d)),x.on("styledata",(function(){!function e(){if(x.isStyleLoaded())for(var t=0;t<(null===r||void 0===r?void 0:r.length);t+=1){var n=r[t];x.getSource(n.layer.source)||(x.addSource(n.layer.source,n.source),x.addLayer(n.layer))}else setTimeout(e,200)}()}))}))}),[x]);var g,y=n||[{name:"Light",key:"Light",label:"Light",value:"light-v10",checked:!0},{name:"Dark",key:"Dark",label:"Dark",value:"dark-v10"},{name:"satellite",key:"satellite",label:"Satellite",value:"satellite-streets-v9"}];switch(t){case"radio":g=Object(O.jsx)($,{items:y,name:"basemaps",checkedValueChange:m});break;case"buttons":var v=y.map((function(e){return Object(O.jsx)(h.c,{onClick:function(t){return m(0,e)},children:e.label},e.label)}));g=Object(O.jsx)(ee,{buttons:v});break;default:g=Object(O.jsx)($,{items:y,name:"basemaps",checkedValueChange:m})}return Object(O.jsxs)(T,Object(u.a)(Object(u.a)({sx:{marginTop:"360px"},baseType:a,buttonOptions:Object(u.a)({icon:Object(O.jsx)(q.h,{}),title:"Basemap Switcher",testId:"cl-basemap-btn"},i)},c),{},{className:"cl-basemap-switcher",children:[Object(O.jsx)(h.s,{children:"Choose basemap layer:"}),g]}))},oe={container:"map",style:"mapbox://styles/mapbox/light-v10",center:[12,50],zoom:3,accessToken:"pk.eyJ1IjoiZWxrYWxvbmFyaXMiLCJhIjoiY2twbXExOHcwMDg3ZzJvbnc0dXhyOWszOSJ9.AetSK7t4L_aaFVsCuNQmHg"},re=n(359),ae=function(e){var t=e.children,n=e.context,r=e.theme,a=e.mapOverride,i=n||z,c=i.Provider||i,s=Object(o.useState)(null),l=Object(j.a)(s,2),d=l[0],u={map:a||d,setMap:l[1]},b=Object(O.jsx)(re.a,{theme:r||{},children:t});return Object(O.jsx)(c,{value:u,children:b})},ie=n(74),ce=n.n(ie),se=function(e){var t=e.position,n=e.maxWidth,r=e.unit,a=Object(o.useState)(new ie.ScaleControl({maxWidth:n||100,unit:r||"metric"})),i=Object(j.a)(a,1)[0],c=Object(o.useContext)(z).map;if(!I(c))return null;var s=t||"bottom-left";return c.on("load",(function(){c.addControl(i,s)})),null},le=n(73),de=n.n(le),ue=n(160),be=(n(243),n(161)),je=n.n(be),pe=n(166),he=n(6),xe=function(e){var t=e.x,n=e.y,r=e.target,a=e.theme;r.style.padding="4px",r.style.textShadow="none";var i=Object(o.useState)(!1),c=Object(j.a)(i,2),s=c[0],l=c[1],d=Object(o.useState)(r.style.color||"black"),u=Object(j.a)(d,2),b=u[0],p=u[1],x=Object(o.useState)(r.style.backgroundColor||"white"),f=Object(j.a)(x,2),O=f[0],m=f[1],g=Object(o.useState)(!1),y=Object(j.a)(g,2),v=y[0],k=y[1],w=Object(o.useState)(!1),S=Object(j.a)(w,2),C=S[0],F=S[1];return Object(he.a)(je.a,{handle:".handle",children:Object(he.b)(h.b,{sx:{position:"absolute",top:"".concat(n,"px"),left:"".concat(t,"px"),zIndex:99,backgroundColor:"white",width:"280px",borderRadius:"9px",display:s?"none":""},children:[Object(he.b)(h.g,{className:"handle",sx:{textAlign:"center",cursor:"pointer",backgroundColor:a.colors.primary,borderTopLeftRadius:"9px",borderTopRightRadius:"9px",padding:"5px"},children:[Object(he.a)(h.s,{sx:{color:"white",fontFamily:a.fonts.body},children:"Label Editor"}),Object(he.a)(h.f,{sx:{position:"absolute",top:0,right:0,color:"white",cursor:"pointer"},onClick:function(){l(!0)}})]}),Object(he.a)(h.g,{children:Object(he.b)(h.b,{sx:{margin:"2.5px"},children:[Object(he.a)(h.n,{sx:{fontFamily:a.fonts.body},htmlFor:"label-edit",children:"Label"}),Object(he.a)(h.m,{placeholder:r.innerHTML,name:"label-edit",id:"label-edit",onChange:function(e){r.innerHTML=e.target.value.toUpperCase()},sx:{padding:"2px"},mb:1}),Object(he.a)(h.n,{sx:{fontFamily:a.fonts.body},htmlFor:"font-size-edit",children:"Font Size"}),Object(he.a)(h.m,{placeholder:r.style.fontSize.replace("px","")||"12",name:"font-size-edit",id:"font-size-edit",onChange:function(e){r.style.fontSize="".concat(e.target.value,"px")},sx:{padding:"2px"},mb:1}),Object(he.a)(h.n,{sx:{fontFamily:a.fonts.body},htmlFor:"font-family-edit",children:"Font Family"}),Object(he.b)(h.q,{name:"font-family-edit",id:"font-family-edit",mb:1,onChange:function(e){r.style.fontFamily=e.target.value},sx:{padding:"2px"},children:[Object(he.a)("option",{value:"serif",children:"Serif"}),Object(he.a)("option",{value:"sans-serif",children:"Sans-Serif"}),Object(he.a)("option",{value:"cursive",children:"Cursive"}),Object(he.a)("option",{value:"monospace",children:"Monospace"}),Object(he.a)("option",{value:"fantasy",children:"Fantasy"})]}),Object(he.a)(h.n,{sx:{fontFamily:a.fonts.body},htmlFor:"font-weight-edit",children:"Font Weight"}),Object(he.a)(h.m,{placeholder:r.style.fontWeight||200,name:"font-weight-edit",id:"font-weight-edit",onChange:function(e){r.style.fontWeight=e.target.value},sx:{padding:"2px"},mb:1}),Object(he.a)(h.b,{sx:{textAlign:"fg"===C?"left":"right"},mb:1,children:v?Object(he.a)(pe.a,{onChange:function(e){var t=e.hex;"fg"===C?(r.style.color=t,p(t)):"bg"===C&&(r.style.backgroundColor=t,m(t))}}):""}),Object(he.b)(h.i,{gap:2,mb:1,columns:[2,"1fr 1fr"],children:[Object(he.a)(h.b,{bg:b,onClick:function(){"fg"===C?(k(!1),F(!1)):(k(!0),F("fg"))},sx:{color:"white",cursor:"pointer",border:"fg"===C?"solid greenyellow 3px":""},children:"FG"}),Object(he.a)(h.b,{bg:O,onClick:function(){"bg"===C?(k(!1),F(!1)):(k(!0),F("bg"))},sx:{cursor:"pointer",border:"bg"===C?"solid greenyellow 3px":""},children:"BG"})]}),Object(he.a)(h.b,{p:2,sx:{textAlign:"center"},children:Object(he.a)(h.o,{sx:{color:"#a70000",fontFamily:a.fonts.body},href:"#!",onClick:function(e){e.preventDefault(),window.confirm("are you sure")&&(r.parentNode.removeChild(r),l(!0))},children:"Delete Label"})})]})})]})})},fe=function(e){var t={};function n(e){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return t.onSetup=function(){return{}},t.onClick=function(t,o){var r=this.newFeature({type:"Feature",geometry:{type:"Point",coordinates:[o.lngLat.lng,o.lngLat.lat]}}),a=new ce.a.Marker({element:n('<p class="cl-draw-text" style="text-shadow:0 0 4px #FFFFFF;text-stroke: .1em #FFFFFF; webkit-text-stroke = .1em #FFFFFF; cursor: context-menu" title="Right click to edit label style">New Label</p>'),draggable:!0});a.getElement().addEventListener("contextmenu",(function(t){var n=document.getElementById("label-maker");n&&n.parentNode.removeChild(n);var o=document.createElement("div");o.id="label-maker",document.body.appendChild(o),i.a.render(Object(O.jsx)(xe,{x:t.clientX+50,y:t.clientY+25,target:t.target,theme:e}),o)})),a.setLngLat(o.lngLat),a.addTo(this.map),this.map.fire("draw.create",{features:[r.toGeoJSON()]}),this.changeMode("simple_select")},t.onKeyUp=function(e,t){return 27===t.keyCode&&this.changeMode("simple_select")},t.toDisplayFeatures=function(e,t,n){n(t)},t};function Oe(e,t){t?(e.boxZoom.enable(),e.scrollZoom.enable(),e.dragPan.enable(),e.dragRotate.enable(),e.keyboard.enable(),e.doubleClickZoom.enable(),e.touchZoomRotate.enable()):(e.boxZoom.disable(),e.scrollZoom.disable(),e.dragPan.disable(),e.dragRotate.disable(),e.keyboard.disable(),e.doubleClickZoom.disable(),e.touchZoomRotate.disable())}var me={onSetup:function(){return this.setActionableState(),Oe(this.map,!1),{}},toDisplayFeatures:function(e,t,n){n(t)}},ge=me,ye=["baseType","buttonOptions","sx"],ve=function(e){var t=e.baseType,r=e.buttonOptions,a=(e.sx,Object(p.a)(e,ye)),i=Object(S.d)().theme,c=Object(o.useContext)(z).map,s=Object(o.useState)(null),l=Object(j.a)(s,2),d=l[0],b=l[1],x=Object(o.useState)(null),m=Object(j.a)(x,2),g=m[0],y=m[1];if(!I(c))return null;function v(e){return k.apply(this,arguments)}function k(){return(k=Object(ue.a)(de.a.mark((function e(t){var o,r;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=d,e.t0){e.next=5;break}return e.next=4,n.e(3).then(n.t.bind(null,360,7)).then((function(e){var t=e.default;return new t({displayControlsDefault:!1,modes:Object.assign({draw_text:fe(i),static:ge},t.modes)})}));case 4:e.t0=e.sent;case 5:o=e.t0,d||(b(o),c.addControl(o)),y(r=t||"simple_select"),o.changeMode(r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){e.addEventListener("click",(function(){Oe(c,!1)})),e.style.backgroundColor="rgba(0, 0, 0, 0)",e.style.borderStyle="none",e.style.fontSize="14px",e.style.textShadow="0 0 2px #FFFFFF",e.style.textStroke=".02em #FFFFFF",e.style.webkitTextStroke=".02em #FFFFFF",e.style.resize="none"}return c.on("draw.create",(function(){"draw_text"===g&&function(){for(var e=document.getElementsByClassName("cc-draw-text"),t=function(t){e[t].focus(),e[t].addEventListener("click",(function(){var n;d.changeMode("static"),(n=e[t]).style.backgroundColor="#FFFFFF",n.style.borderStyle="inset",n.focus()}))},n=0;n<e.length;n+=1)t(n);addEventListener("keyup",(function(t){13===t.keyCode&&("static"===d.getMode()&&(d.changeMode("simple_select"),Oe(c,!0)),w(e[e.length-1]))})),addEventListener("dblclick",(function(){"static"===d.getMode()&&(d.changeMode("simple_select"),Oe(c,!0)),w(e[e.length-1])}))}()})),Object(O.jsxs)(T,Object(u.a)(Object(u.a)({style:{zIndex:"9999999"},className:"draw-tools",baseType:t||"none",buttonOptions:Object(u.a)({icon:Object(O.jsx)(q.j,{}),title:"Draw",testId:"cl-draw-btn"},r),sx:{marginTop:"280px",minWidth:"400px"}},a),{},{children:[Object(O.jsx)(h.s,{children:"Add markers, polygons and label positions on the map."}),Object(O.jsxs)(ee,{children:[Object(O.jsx)(h.c,{sx:{minWidth:"80px"},title:"Draw Point",className:"draw-tool draw-tool--point",onClick:function(){return v("draw_point")},children:Object(O.jsx)(f.c,{})}),Object(O.jsx)(h.c,{sx:{minWidth:"80px"},title:"Draw Line",className:"draw-tool draw-tool--line",onClick:function(){return v("draw_line_string")},children:Object(O.jsx)(f.e,{})}),Object(O.jsx)(h.c,{sx:{minWidth:"80px"},title:"Draw Polygon",className:"draw-tool draw-tool--polygon",onClick:function(){return v("draw_polygon")},children:Object(O.jsx)(q.c,{})}),Object(O.jsx)(h.c,{sx:{minWidth:"80px"},title:"Draw Text",className:"draw-tool draw-tool--text",onClick:function(){v("draw_text")},children:Object(O.jsx)(f.d,{})}),Object(O.jsx)(h.c,{sx:{minWidth:"80px"},title:"Delete Drawing",className:"draw-tool draw-tool--delete",onClick:function(){!function(){if(d){d.deleteAll();for(var e=document.getElementsByClassName("cl-draw-text");e.length>0;)e[0].remove()}}()},children:Object(O.jsx)(f.a,{})})]})]}))};function ke(){return window.localStorage.getItem("ccBookmarks")}function we(e,t){return!!I(e)&&(e.easeTo({center:t.center,zoom:t.zoom}),!0)}function Se(e,t,n){var o=ke();if(I(e)&&t)if(o){var r={name:t,zoom:e.getZoom(),center:e.getCenter()},a=JSON.parse(o),i=[].concat(Object(b.a)(a),[r]);window.localStorage.setItem("ccBookmarks",JSON.stringify(i)),n(i)}else{var c=[{name:t,zoom:e.getZoom(),center:e.getCenter()}];window.localStorage.setItem("ccBookmarks",JSON.stringify(c)),n(c)}}function Ce(e,t){var n=JSON.parse(ke()).filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)}));window.localStorage.setItem("ccBookmarks",JSON.stringify(n)),t(n)}var Fe=["baseType","buttonOptions","sx"],Le=function(e){var t=e.baseType,n=e.buttonOptions,r=(e.sx,Object(p.a)(e,Fe)),a={_goToBookmark:Object.hasOwnProperty.call(r,"goToBookmark")?r.goToBookmark:we,_loadBookmarks:Object.hasOwnProperty.call(r,"loadBookmarks")?r.loadBookmarks:ke,_deleteBookmark:Object.hasOwnProperty.call(r,"deleteBookmark")?r.deleteBookmark:Ce,_saveBookmark:Object.hasOwnProperty.call(r,"saveBookmark")?r.saveBookmark:Se},i=a._goToBookmark,c=a._loadBookmarks,s=a._deleteBookmark,l=a._saveBookmark,d=Object(o.useContext)(z).map,b=JSON.parse(c())||[],x=Object(o.useState)(""),f=Object(j.a)(x,2),g=f[0],y=f[1],k=Object(o.useState)(b),w=Object(j.a)(k,2),S=w[0],C=w[1],F=Object(o.useState)([]),L=Object(j.a)(F,2),N=L[0],_=L[1];Object(o.useEffect)((function(){var e=S.map((function(e){return Object(O.jsx)(m,{selectable:!0,children:Object(O.jsxs)(h.h,{children:[Object(O.jsxs)(h.b,{onClick:function(){i(d,e)},sx:{flex:"1 1 auto"},children:[Object(O.jsx)(q.a,{}),e.name]}),Object(O.jsx)(h.b,{children:Object(O.jsx)(q.l,{onClick:function(){s(e,C)}})})]})},e.name)}));_(e)}),[d,S]);var E=Object(O.jsx)(h.s,{}),I=Object(O.jsxs)(h.h,{children:[Object(O.jsx)(h.m,{sx:{backgroundColor:"white",opacity:.4,color:"blue"},className:"input-book",placeholder:"Save view as bookmark",value:g,onChange:function(e){y(e.currentTarget.value)}}),Object(O.jsx)(h.c,{className:"bookmark-button",sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,marginLeft:"-0.175rem",backgroundColor:"blue"},onClick:function(){l(d,g,C),y("")},children:"Save"})]});return Object(O.jsx)(T,Object(u.a)(Object(u.a)({className:"cl-bookmark-field",baseType:t,buttonOptions:Object(u.a)({icon:Object(O.jsx)(q.a,{}),title:"Bookmarks",testId:"bookmark-btn"},n),sx:{position:"fixed",left:450,top:10,backgroundColor:"blue"}},r),{},{children:Object(O.jsxs)(h.b,{children:[E,I,Object(O.jsx)(v,{children:N})]})}))},Ne=n.p+"static/media/ESPON-logo.235f1bc5.png",_e=function(e){return Object(O.jsx)(T,{children:Object(O.jsxs)(h.b,{sx:{minHeight:"120vh",overflow:"auto",width:"430px",backgroundColor:"white",position:"fixed",top:0,left:0},children:[Object(O.jsx)(h.l,{src:Ne,sx:{width:"200px",padding:"10px"}}),Object(O.jsx)(h.j,{sx:{padding:"14px",fontFamily:"sans-serif"},children:"ESPON Portal: Data studio"})]})})},Te=n(18),Ee=n.n(Te),ze=["baseType","buttonOptions","sx"],Ie=function(e){var t=e.baseType,n=e.buttonOptions,r=e.sx,a=Object(p.a)(e,ze),i=Object(o.useContext)(z).map,c=Object(o.useState)(""),s=Object(j.a)(c,2),l=s[0],d=s[1],b=Object(o.useState)(""),h=Object(j.a)(b,2),x=h[0],f=h[1],m=Object(o.useState)(""),g=Object(j.a)(m,2),y=g[0],v=g[1],k=Object(o.useState)(""),w=Object(j.a)(k,2),S=w[0],C=w[1];function F(){var e="".concat(Ee()(i.getCenter().lng).format("0.00000"),", ").concat(Ee()(i.getCenter().lat).format("0.00000"));d(e)}function L(){v(Ee()(i.getZoom()).format("0.00"))}function N(){var e=i.getBounds(),t="[".concat(Ee()(e._sw.lng).format("0.00000"),", ").concat(Ee()(e._sw.lat).format("0.00000"),", ").concat(Ee()(e._ne.lng).format("0.00000"),", ").concat(Ee()(e._ne.lat).format("0.00000"),"]");f(t)}return Object(o.useEffect)((function(){I(i)&&i.on("load",(function(){F(),L(),N(),i.on("move",(function(){F(),N()})),i.on("zoom",(function(){L()})),i.on("mousemove",(function(e){!function(e){var t="".concat(Ee()(e.lngLat.lng).format("0.00000"),", ").concat(Ee()(e.lngLat.lat).format("0.00000"));C(t)}(e)}))}))}),[i]),I(i)?Object(O.jsx)(T,Object(u.a)(Object(u.a)({className:"cl-mapinfo",baseType:t||"none",buttonOptions:Object(u.a)({icon:Object(O.jsx)(q.f,{}),title:"Map Info",testId:"cl-mapinfo-btn"},n),sx:Object(u.a)({padding:2,fontFamily:"sans-serif",bg:"white",color:"panel"===t?"text":"background"},r)},a),{},{children:"Center (lon/lat): ".concat(l," degrees; Zoom: ").concat(y,"; Cursor: ").concat(S,"; Bounds: ").concat(x)})):null},Be=["className","sx","variant"],Pe=r.a.forwardRef((function(e,t){var n=e.className,o=e.sx,r=e.variant,a=void 0===r?"switch":r,i=Object(p.a)(e,Be);return Object(O.jsxs)(h.b,{children:[Object(O.jsx)(h.b,Object(u.a)(Object(u.a)({ref:t,as:"input",type:"checkbox",__themeKey:"forms"},i),{},{sx:{position:"absolute",opacity:0,zIndex:-1,width:1,height:1,overflow:"hidden"}})),Object(O.jsx)(h.b,Object(u.a)(Object(u.a)({css:{padding:2},__themeKey:"forms",variant:a,className:n,sx:o,__css:{position:"relative",bg:"gray",borderRadius:18,height:22,width:40,mr:2,cursor:"pointer","input:disabled ~ &":{opacity:.5,cursor:"not-allowed"},"& > div":{display:"flex",alignItems:"center",borderRadius:"50%",height:18,width:18,bg:"white",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",position:"relative",transform:"translateX(0%)",transition:"transform 240ms cubic-bezier(0.165, 0.840, 0.440, 1.000)"},"input:checked ~ &":{bg:"primary","> div":{transform:"translateX(100%)"}}}},i),{},{children:Object(O.jsx)(h.b,{})}))]})})),Re=function(e){var t=e.type;try{switch(t){case"fill":return function(e){var t,n,o,r=e.get("fill-color").value,a=e.get("fill-outline-color").value,i=(null===(t=e.get("fill-opacity").value)||void 0===t?void 0:t.value)||1;if(r._parameters&&Object.prototype.hasOwnProperty.call(r._parameters,"stops"))n=r._parameters.stops,r._parameters.default&&(n=[].concat(Object(b.a)(n),[["",r._parameters.default]]));else if(r._styleExpression){var c=[];Object.keys(r._styleExpression.expression.cases).forEach((function(e){var t=[e,r._styleExpression.expression.outputs[+r._styleExpression.expression.cases[e]].value.toString()];c.push(t)})),r._styleExpression.expression.otherwise&&c.push(["",r._styleExpression.expression.otherwise.value.toString()]),n=c}else n=[r.value.toString()];if(a._parameters&&Object.prototype.hasOwnProperty.call(a._parameters,"stops"))o=a._parameters.stops,a._parameters.default&&(o=[].concat(Object(b.a)(n),[["",a._parameters.default]]));else if(a._styleExpression){var s=[];Object.keys(a._styleExpression.expression.cases).forEach((function(e){var t=[e,a._styleExpression.expression.outputs[+a._styleExpression.expression.cases[e]].value.toString()];s.push(t)})),a._styleExpression.expression.otherwise&&s.push(["",a._styleExpression.expression.otherwise.value.toString()]),o=s}else o=[a.value.toString()];return Object(he.a)(v,{sx:{margin:0,padding:0},children:Object(he.a)((function(){var e=(n.length>1?n.map((function(e){return[].concat(Object(b.a)(e),[o[0]])})):o.length>1?o.map((function(e){return e.splice(1,0,n[0]),e})):[[null,n[0],o[0]]]).map((function(e,t){return Object(he.b)(m,{sx:{margin:0,marginLeft:4,padding:0,display:"flex"},children:[Object(he.a)(h.b,{children:Object(he.a)("svg",{width:"25",height:"25",children:Object(he.a)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"25",height:"25",sx:{fill:e[1],stroke:e[2],strokeWidth:3,fillOpacity:i,strokeOpacity:i}})})}),Object(he.a)(h.b,{children:Object(he.a)(h.s,{sx:{padding:"3px"},children:e[0]})})]},t)}));return Object(he.a)(h.b,{children:e})}),{})})}(e.paint);case"circle":return function(e){var t,n,o,r=e.get("circle-color").value.value.toString(),a=e.get("circle-radius").value;return a._parameters&&Object.prototype.hasOwnProperty.call(a._parameters,"stops")&&"source"===a.kind?(n=6,o="center",t=a._parameters.stops,a._parameters.default&&(t=[].concat(Object(b.a)(t),[["",a._parameters.default]]))):(n=1,o="left",+(t=[a.value.toString()])[0]<8&&(t=["8"])),Object(he.a)(v,{sx:{margin:0,padding:0},children:Object(he.a)((function(){var e=(t.length>1?t.map((function(e){return Object(b.a)(e)})):[[null,t[0]]]).map((function(e,t){var a=+e[1]+.75*+e[1];return Object(he.b)(m,{sx:{margin:0,marginLeft:4,padding:0,display:"flex"},children:[Object(he.a)(h.b,{sx:{flexGrow:n,textAlign:o},children:Object(he.a)("svg",{width:a,height:a,children:Object(he.a)("circle",{cx:a/2,cy:a/2,r:a/2-.5,sx:{fill:r}})})}),Object(he.a)(h.b,{sx:{flexGrow:1,lineHeight:e[1]>=10?"".concat(1.8388*+e[1]-7.5,"px"):"15px"},children:Object(he.a)(h.s,{sx:{padding:"3px"},children:e[0]})})]},t)}));return Object(he.a)(h.b,{children:e})}),{})})}(e.paint);case"line":return function(e){var t,n=e.get("line-color").value,o=n.kind;if("source"===o||"constant"===o){if(n._parameters&&Object.prototype.hasOwnProperty.call(n._parameters,"stops"))t=n._parameters.stops,n._parameters.default&&(t=[].concat(Object(b.a)(t),[["",n._parameters.default]]));else if(n._styleExpression){var r=[];Object.keys(n._styleExpression.expression.cases).forEach((function(e){var t=[e,n._styleExpression.expression.outputs[+n._styleExpression.expression.cases[e]].value.toString()];r.push(t)})),n._styleExpression.expression.otherwise&&r.push(["",n._styleExpression.expression.otherwise.value.toString()]),t=r}else t=[n.value.toString()];return Object(he.a)(v,{sx:{margin:0,padding:0},children:Object(he.a)((function(){var e=(t.length>1?t.map((function(e){return Object(b.a)(e)})):[[null,t[0]]]).map((function(e,t){return Object(he.b)(m,{sx:{margin:0,marginLeft:4,padding:0,display:"flex",alignItems:"flex-start",justifyContent:"flex-start"},children:[Object(he.a)(h.b,{children:Object(he.a)("svg",{width:"25",height:"25",children:Object(he.a)("rect",{x:"0",y:"3.75",rx:"0",ry:"0",width:"25",height:"7.5",sx:{fill:e,strokeWidth:2}})})}),Object(he.a)(h.b,{px:1,children:Object(he.a)(h.s,{children:e[0]})})]},t)}));return Object(he.a)(h.b,{children:e})}),{})})}if("composite"!==e.get("line-color").value.kind)return!1;try{return t=e.get("line-color").value._styleExpression.expression.outputs[0].outputs[0].value.toString(),Object(he.a)(v,{sx:{margin:0,marginLeft:4,padding:0},children:Object(he.a)(m,{sx:{margin:0,marginLeft:4,padding:0},children:Object(he.a)("svg",{width:"25",height:"25",children:Object(he.a)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"25",height:"7.5",sx:{fill:t,strokeWidth:2}})})})})}catch(a){return console.error(a),!1}}(e.paint);case"symbol":return e.paint,console.log("legend cannot render symbol yet"),!1;case"heatmap":return e.paint,console.log("legend cannot render heatmap yet"),!1;case"fill-extrusion":return e.paint,console.log("legend cannot render fill-extrusion yet"),!1;case"raster":return e.paint,console.log("legend cannot render raster yet"),!1;case"hillshade":return e.paint,console.log("legend cannot render hillshade yet"),!1;case"background":return e.paint,console.log("legend cannot render background yet"),!1;default:return!1}}catch(n){return console.warn(n),!1}};function De(e,t,n){return!!I(e)&&(n?e.setLayoutProperty(t,"visibility","visible"):e.setLayoutProperty(t,"visibility","none"),!0)}var Me=n(46),Ae=(n(354),function(e){var t=e.layerActions;return t&&t.length>0?Object(he.b)(Me.a,{className:"cl-layer-list-action-menu",children:[Object(he.a)(Me.b,{sx:{color:"text",bg:"background",borderStyle:"none",fontSize:1,":hover":{cursor:"pointer"}},children:"..."}),Object(he.a)(Me.e,{sx:{zIndex:3,fontFamily:"body"},children:Object(he.a)(Me.d,{children:t.map((function(e){return Object(he.a)(Me.c,{onSelect:function(){e.action()},children:e.title},e.title)}))})})]}):null}),Ze=function(e){var t,n=e.layerInfo,r=e.map,a=e.legend,i=e.showActions,c=e.itemActions,s=e.checkboxStyle,l=e.baseType,d=Object(o.useState)(!1),u=Object(j.a)(d,2),b=u[0],p=u[1],x=Object(o.useState)(null),f=Object(j.a)(x,2),g=f[0],y=f[1],v=Object(o.useState)(),k=Object(j.a)(v,2),w=k[0],S=k[1],C=Object(o.useState)(!!a),F=Object(j.a)(C,2),L=F[0],N=F[1],_=n.layerIds,T=function(e){var t=e.currentTarget.checked;_.map((function(e){return t||!b?(p(!0),De(r,e,!0)):(p(!1),De(r,e,!1)),!0}))};Object(o.useEffect)((function(){switch(s){case"check":y(Object(O.jsx)(h.e,{onChange:T,checked:b}));break;case"switch":y(Object(O.jsx)(Pe,{checked:b,onChange:T}));break;case"eye":y(b?Object(O.jsx)(h.k,{onClick:T,sx:{alignItems:"baseline"},children:Object(O.jsx)(q.d,{})}):Object(O.jsx)(h.k,{onClick:T,sx:{alignItems:"baseline"},children:Object(O.jsx)(q.e,{})}));break;default:y(Object(O.jsx)(h.e,{checked:b,onChange:T}))}}),[s,b]),Object(o.useEffect)((function(){var e;if(I(r)){var t=function(){e=r.getLayoutProperty(_[0],"visibility"),p("none"!==e),a&&S(n.legendStyle?n.legendStyle():Re(r.getLayer(_[0])))};if(Object.keys(r).length>0)if(l&&"button"===l)try{t()}catch(o){o instanceof TypeError&&r.once("idle",(function(){t()}))}else r.once("idle",(function(){t()}))}}),[r,n]),t=i?Object(O.jsx)(Ae,{layerActions:c}):null;var E=function(){return Object(O.jsx)(h.b,{sx:{display:L?"":"none"},children:Object(O.jsx)(m,{css:{display:a&&w?"":"none"},children:w},"".concat(n.layerName,"-legend"))})};return Object(O.jsxs)(h.b,{className:"listItem",children:[Object(O.jsx)(m,{children:Object(O.jsxs)(h.h,{children:[Object(O.jsxs)(h.n,{children:[g,Object(O.jsx)(h.s,{pt:1,sx:{fontWeight:"bold",cursor:"pointer",":hover":{textDecoration:"underline"}},onClick:function(e){a&&(e.preventDefault(),N(!L))},children:n.layerName})]}),t]})},n.layerName),a?Object(O.jsx)(E,{}):null]})},We=function(e){var t,n=e.layerInfo,r=e.map,a=e.legend,i=e.showActions,c=e.itemActions,s=e.group,l=e.callback,d=e.activeOnLoad,u=Object(o.useState)(),b=Object(j.a)(u,2),p=b[0],x=b[1],f=n.layerIds;Object(o.useEffect)((function(){I(r)&&Object.keys(r).length>0&&r.once("idle",(function(){a&&x(n.legendStyle?n.legendStyle():Re(r.getLayer(f[0])))}))}),[r,n]),t=i?Object(O.jsx)(Ae,{layerActions:c}):null;var g=function(){return Object(O.jsx)(h.b,{children:Object(O.jsx)(m,{css:{display:a&&p?"":"none"},children:p},"".concat(n.layerName,"-legend"))})};return Object(O.jsxs)(h.b,{className:"listItem",children:[Object(O.jsx)(m,{children:Object(O.jsxs)(h.h,{children:[Object(O.jsxs)(h.n,{children:[Object(O.jsx)(h.p,{name:s,onChange:function(e){!function(e){var t=e.currentTarget.value.split(",");l(t)}(e)},value:n.layerIds,defaultChecked:d}),Object(O.jsx)(h.s,{pt:1,children:n.layerName})]}),t]})},n.layerName),a?Object(O.jsx)(g,{}):null]})},Je=function(e){var t=e.group,n=e.map,r=e.legend,a=e.showOnLoad,i=void 0===a||a,c=Object(o.useState)(i),s=Object(j.a)(c,2),l=s[0],d=s[1],u=t.layers.map((function(e){return e.layerIds.map((function(e){return e}))}));u=u.flat();var b=function(e){var t=u.filter((function(t){return e.includes(t)})),o=u.filter((function(t){return!e.includes(t)}));l?(t.map((function(e){return De(n,e,!0),!0})),o.map((function(e){return De(n,e,!1),!0}))):u.map((function(e){return De(n,e,!1),!0}))},p=t.layers.map((function(e,o){return Object(O.jsx)(We,{layerInfo:e,map:n,legend:r,itemActions:e.actions,group:t.groupName,callback:b,activeOnLoad:0===o},e.layerName)}));return Object(O.jsx)(m,{children:Object(O.jsx)(h.b,{children:Object(O.jsxs)(h.h,{sx:{flexDirection:"column"},children:[Object(O.jsxs)(h.n,{children:[Object(O.jsx)(h.e,{checked:l,onChange:function(e){e.currentTarget.checked?(d(!0),u.map((function(e){return De(n,e,!0),!0}))):(d(!1),u.map((function(e){return De(n,e,!1),!0})))}}),Object(O.jsx)(h.s,{pt:1,sx:{fontWeight:"bold"},children:t.groupName})]}),Object(O.jsx)(v,{children:p})]})})})},He=["layers","groupLayers","legend","showActions","checkboxStyle","baseType","buttonOptions","sx"],Ge=function(e){var t=e.layers,n=e.groupLayers,r=e.legend,a=void 0!==r&&r,i=e.showActions,c=e.checkboxStyle,s=e.baseType,l=e.buttonOptions,d=e.sx,b=Object(p.a)(e,He),j=Object(o.useContext)(z).map;if(!I(j))return null;var x,f=function(){return Object(O.jsx)(h.s,{children:"Toggle layers:"})},m=t.map((function(e){return Object(O.jsx)(Ze,{layerInfo:e,map:j,legend:a,itemActions:e.actions,showActions:i,checkboxStyle:c,baseType:s},e.layerName)}));return n&&n.length>0&&(x=n.map((function(e){return Object(O.jsx)(Je,{group:e,map:j,legend:a})}))),Object(O.jsxs)(T,Object(u.a)(Object(u.a)({baseType:s,buttonOptions:Object(u.a)({icon:Object(O.jsx)(q.g,{}),title:"Layer List",testId:"cl-layerlist-btn"},l),sx:d},b),{},{children:[Object(O.jsx)(f,{}),Object(O.jsx)(v,{children:m}),Object(O.jsxs)(v,{children:[" ",x]})]}))};var Xe=["circular","horizontal","controlType","showZoomLevel","sx"],Ke=function(e){var t=e.circular,n=e.horizontal,r=e.controlType,a=e.showZoomLevel,i=e.sx,c=Object(p.a)(e,Xe),s=Object(o.useContext)(z).map,l=Object(o.useState)((function(){return!!I()&&s.getZoom()})),d=Object(j.a)(l,2),b=d[0],x=d[1];function f(){x(Ee()(s.getZoom()).format("0.0"))}Object(o.useEffect)((function(){I(s)&&(s.on("load",(function(){f()})),s.on("zoom",(function(){f()})))}),[s]);var m={borderRadius:"default",width:"32px",height:"32px",minWidth:"25px",cursor:"pointer",minHeight:"25px",bg:"blue",boxShadow:"0 0 4px rgba(0, 0, 0, .6)",padding:0,my:"2px",":hover":{bg:"blue",boxShadow:"0 0 0px rgba(0, 0, 0, .6)"}};t&&(m=Object(u.a)(Object(u.a)({},m),{},{borderRadius:"circle"})),"slider"===r&&(m=Object(u.a)(Object(u.a)({},m),{},{mx:0}));var g="column";n&&(g="row",m=Object(u.a)(Object(u.a)({},m),{},{marginRight:"4px",my:0}));var y=null;a&&(y=Object(O.jsx)(h.c,{sx:Object(u.a)(Object(u.a)({},m),{},{bg:"blue",fontSize:0}),children:b}));var v,k=Object(O.jsx)(h.c,{title:"Zoom In",sx:m,className:"cl-zoom-btn",circular:t,onClick:function(){!function(e){if(!I(e))return!1;var t=Math.round(e.getZoom());e.setZoom(t+1)}(s)},children:Object(O.jsx)(q.k,{})}),w=Object(O.jsx)(h.c,{title:"Zoom Out",sx:m,className:"cl-zoom-btn",circular:t,onClick:function(){!function(e){if(!I(e))return!1;var t=Math.round(e.getZoom());e.setZoom(t-1)}(s)},children:Object(O.jsx)(q.i,{})});return"button"===r||void 0===r?v=n?Object(O.jsxs)(O.Fragment,{children:[w,y,k]}):Object(O.jsxs)(O.Fragment,{children:[k,y,w]}):"slider"===r?v=n?Object(O.jsxs)(O.Fragment,{children:[w,Object(O.jsx)(h.r,{step:.1,min:0,max:22,value:b,onInput:function(e){return s.setZoom(e.target.value),!0}}),k]}):Object(O.jsxs)(h.h,{sx:{maxWidth:"50px",flexDirection:"column",alignItems:"center"},children:[k,Object(O.jsx)(h.r,{step:.1,min:0,max:22,sx:{width:"120px",my:"58px",transform:"rotate(270deg)"},value:b,onInput:function(e){return s.setZoom(e.target.value),!0}}),w]}):console.error("Value for 'controlType' prop on Zoom component is not recognized."),Object(O.jsx)(T,Object(u.a)(Object(u.a)({},c),{},{baseType:"none",sx:Object(u.a)({display:"flex",flexDirection:g,m:1},i),className:"cl-zoom-controls",children:v}))},Ve=["initBounds","initCenter","initZoom","initPitch","initBearing","intercept","sx","buttonOptions"],Ue=function(e){var t=e.initBounds,n=e.initCenter,r=e.initZoom,a=e.initPitch,i=e.initBearing,c=e.intercept,s=e.sx,l=(e.buttonOptions,Object(p.a)(e,Ve)),d=Object(o.useContext)(z).map,b=function(){if(t)try{d.setPitch(null!==a&&void 0!==a?a:0),d.setBearing(null!==i&&void 0!==i?i:0),d.fitBounds(t)}catch(e){console.error(e)}else if(n&&r)try{d.setCenter(n),d.setZoom(r),d.setPitch(null!==a&&void 0!==a?a:0),d.setBearing(null!==i&&void 0!==i?i:0)}catch(e){console.error(e)}else console.error('Home Button Error: required props are not present. Make sure you pass "initBounds" OR "initCenter" and "initZoom".')};return Object(O.jsx)(T,Object(u.a)(Object(u.a)({},l),{},{className:"cl-home-button",baseType:"button",sx:s,buttonOptions:{icon:Object(O.jsx)(q.b,{}),title:"Home",testId:"home-button",intercept:function(){if(I(d))if(c)try{Array.isArray(c)?(c[0](d),c[1]&&b()):c()}catch(e){b()}else b()}}}))},qe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(O.jsxs)(ae,{children:[Object(O.jsxs)(U,{mapOptions:oe,children:[Object(O.jsx)(_e,{}),Object(O.jsx)(H,{}),Object(O.jsx)(ne,{sx:{marginTop:"380px"}}),Object(O.jsx)(se,{}),Object(O.jsx)(ve,{}),Object(O.jsx)(Le,{baseType:"button",goToBookmark:we,loadBookmarks:ke,deleteBookmark:Ce,saveBookmark:Se}),Object(O.jsx)(Ge,{sx:{marginTop:"420px"},panel:!0,layers:[{layerIds:["admin-0-boundary","admin-0-boundary-bg"],layerName:"Admin 0 boundaries"},{layerIds:["admin-1-boundary","admin-1-boundary-bg"],layerName:"Admin 1 boundaries"},{layerIds:["admin-2-boundary"],layerName:"Admin 2 boundaries"},{layerIds:["admin-3-boundary"],layerName:"Admin 3 boundaries"}]}),Object(O.jsx)(Ie,{baseType:"button",sx:{position:"fixed",left:450,top:47,fontSize:"12px",backgroundColor:"white",cursor:"pointer",zIndex:"3"}}),Object(O.jsx)(Ke,{showZoomLevel:!0,sx:{position:"fixed",right:2,top:10}})]}),Object(O.jsx)(Ue,{sx:{position:"fixed",left:450,top:85,backgroundColor:"blue"}})]})}}]),n}(o.Component);i.a.render(Object(O.jsx)(qe,{}),document.getElementById("root"))}},[[356,1,2]]]);
//# sourceMappingURL=main.cc911abc.chunk.js.map